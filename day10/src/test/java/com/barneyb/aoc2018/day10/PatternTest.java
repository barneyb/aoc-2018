package com.barneyb.aoc2018.day10;

import org.junit.Test;

import static com.barneyb.aoc2018.day10.Day10Test.exampleParticles;
import static org.junit.Assert.assertEquals;

public class PatternTest {

    @Test
    public void ticks() {
        Pattern p = new Pattern(exampleParticles());
        assertEquals(0, p.tickCount());
        assertEquals(
                "........#.............\n" +
                "................#.....\n" +
                ".........#.#..#.......\n" +
                "......................\n" +
                "#..........#.#.......#\n" +
                "...............#......\n" +
                "....#.................\n" +
                "..#.#....#............\n" +
                ".......#..............\n" +
                "......#...............\n" +
                "...#...#.#...#........\n" +
                "....#..#..#.........#.\n" +
                ".......#..............\n" +
                "...........#..#.......\n" +
                "#...........#.........\n" +
                "...#.......#..........",
                p.toString());
        p.tick(1);
        assertEquals(1, p.tickCount());
        assertEquals(
                "........#....#....\n" +
                "......#.....#.....\n" +
                "#.........#......#\n" +
                "..................\n" +
                "....#.............\n" +
                "..##.........#....\n" +
                "....#.#...........\n" +
                "...##.##..#.......\n" +
                "......#.#.........\n" +
                "......#...#.....#.\n" +
                "#...........#.....\n" +
                "..#.....#.#.......",
                p.toString());
        p.tick(2);
        assertEquals(3, p.tickCount());
        assertEquals(
                "#...#..###\n" +
                "#...#...#.\n" +
                "#...#...#.\n" +
                "#####...#.\n" +
                "#...#...#.\n" +
                "#...#...#.\n" +
                "#...#...#.\n" +
                "#...#..###",
                p.toString());
        p.tick(1);
        assertEquals(4, p.tickCount());
        assertEquals(
                "........#....\n" +
                "....##...#.#.\n" +
                "..#.....#..#.\n" +
                ".#..##.##.#..\n" +
                "...##.#....#.\n" +
                ".......#....#\n" +
                "..........#..\n" +
                "#......#...#.\n" +
                ".#.....##....\n" +
                "...........#.\n" +
                "...........#.",
                p.toString());
    }

}